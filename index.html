<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>CE_even-odd</title>
        <meta name="author" content="Milo Wearn">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <script>
            /* diagram 
            initialize variables.
            ask the user for name (this is used in the results).
            ** LOOP STARTS HERE **
            ask the user if the number will be even or odd.
                |> if the user's input is invalid (neither even or odd), reask the previous question.
            countdown...
            generate rng values, then add them to figure out the sum.
            find out if the sum is even or odd, then keep a "label" for the type of number that the sum is.
                |> note: the label can only be "even" or "odd". this will also be lowercase, like the user input.
            if the user's input was equal to that label, they win! otherwise, they lose.
            add +1 to the win/loss variable(s) depending on if the user won or lost.
            show the results message and ask the user if they would like to play again (reffered to in the code as looping)
                |> if the user's input is invalid (neither y or n), reask the previous question.
            if the user's input is "y", end the loop.
            ** LOOP ENDS HERE **
            
            if: user input == the label, the user wins
            else: the user loses (only "even" and "odd" are accepted as inputs, meaning the user can't type anything else)
            if: user loop input == y, continues loop
            else: loop ends (only n is accepted as the input that causes this)
            */

            
            // outside of loop, this is for setting up everything
            let rngSum = 0;
            let rngValue1 = 0;
            let rngValue2 = 0;
            let rngTotal = 0;
            let rngEO = "DUMMY";
            let wins = 0;
            let losses = 0;
            let userChoice = "DUMMY";
            let userWL = "------";
            let loop = true;
            let userLoop = "DUMMY";
            let userName = prompt('Please enter your name to get started.');
            console.log(userName);
            //loop
            while (loop == true) {
                rngValue1 = 0;
                rngValue2 = 0;
                rngSum = 0;
                rngEO = "DUMMY";
                userChoice = "DUMMY";
                userWL = "------";
                userChoice = prompt('Do you think the number will be odd or even?');
                if (userChoice === null) {
                    userChoice = "nuh uh!"
                }
                userChoice = userChoice.toLowerCase(); // make it case-insensitive
                console.log(userChoice);
                while (!(userChoice ==="even") && !(userChoice === "odd")) {
                    userChoice = prompt('Please enter either even or odd.');
                    if (userChoice === null) {
                        userChoice = "nuh uh!"
                    }
                    userChoice = userChoice.toLowerCase(); // make it case-insensitive
                }
                alert("1...");
                alert("2...");
                alert("3!");
                // create rng values
                rngValue1 = Math.floor(Math.random() * 4) + 1;
                rngValue2 = Math.floor(Math.random() * 4) + 1;
                rngSum = rngValue1 + rngValue2;
                console.log("DEBUG: rngValue1 = " + rngValue1);
                console.log("DEBUG: rngValue2 = " + rngValue2);
                console.log("DEBUG: rngSum = " + rngSum);
                // figure out if the number is even or odd
                if (rngSum % 2 == 0) {
                    rngEO = "even";
                    console.log("DEBUG: rngEO is Even");
                } else {
                    rngEO = "odd";
                    console.log("DEBUG: rngEO is Odd");
                }
                // logic for figuring out wins and losses.
                // we only really need to check if the input is equal to the rng type (odd/even).
                if (userChoice === rngEO) {
                    wins++;
                    userWL = "win";
                } else {
                    losses++;
                    userWL = "lose";
                }
                userLoop = prompt(userName + ", blabla " + userChoice + ". The sum was " + rngSum + ", which is an " 
                                  + rngEO + ", you " + userWL + "!\nThat's " + wins + "wins and " + losses + "losses!"
                                  + "\nWould you like to play again? (y/n)");
                if (userLoop === null) {
                    userLoop = "nuh uh!"
                }
                userLoop = userLoop.toLowerCase(); // make it case-insensitive
                while (!(userLoop === "y") && !(userLoop === "n")) {
                    userLoop = prompt('Please enter either Y or N if you want to play again.');
                    if (userLoop === null) {
                        userLoop = "nuh uh!"
                    }
                    userLoop = userLoop.toLowerCase(); // make it case-insensitive
                }
                if (userLoop === "y") {
                    loop = true;
                } else {
                    loop = false;
                }
            }
        </script>
    </body>
</html>
